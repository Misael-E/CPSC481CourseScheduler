@page "/"
<PageTitle>Browsing</PageTitle>

<style>
	
	.searchform {
		display: flex;
		flex-direction: column;
		align-items: center;
		margin: auto;
	}

	.searchform-control {
		width: 500px;
		height: 100px;
	}

	.search-input {
		width: 500px;
		height: 40px; +
		border: 3px solid black;
		border-radius:8px;
		margin-right: .5rem;
		padding-left: 1rem;
	}


	.recommended-courses-title {
		font-weight: bold;
		font-size: 20px;
		margin: .5rem 0 0 1rem;
	}

	.courses-container {
		display: flex;
		flex-direction: row;
		flex-wrap: wrap;
		justify-content: center;
	}

	.srch-btn {
		margin-top: 10px;
	}

	.search {
		margin-top: 3%;
	}

	.recommended {
		margin-top: 3%;
	}

	.search-results {
		width: 80%;
		background-color: #85C1E9;
		border: 2px solid black;
		border-radius: 5px;
		margin: auto;
	}

	div p {
		text-align: center;
	}

	.add-btn {
		text-align: center;
		margin-bottom: 2%;
	}

	.clear-btn {
		margin-top:1%;
		text-align: center;
	}

	.search-heading {
		border: 3px solid black;
		background-color: #2E86C1;
	}

	.search-heading h3 {
		text-align: center;
	}

	.flex-container {
		display: flex;
		flex-direction: row;
		margin-top: 1rem;
	}

	.search-container {
		display: flex;
		flex-direction: column;
	}

	.side-panel-container {
		flex: 35%;
		padding: 1rem 1rem 0 0;
		max-width: 25rem;
	}

	.browse-section-container {
		display: flex;
		flex: 65%;
		flex-direction: column;
		max-height: 90vh;
		overflow: auto;
	}

	.search-bar {
		justify-content: center;
		margin: 1rem 1rem 1rem 1rem;
	}

	.flex-row {
		display: flex;
		flex-direction: row;
	}

	.flex-column {
		display: flex;
		flex-direction: column;
	}


	.block {
		width: 300px;
		height: 100px;
	}

</style>

<div class="flex-container">
	<div class="browse-section-container">
		<form class="flex-row search-bar" onsubmit="@(searchResults)">
			<input class="search-input" type="text" placeholder="Search Courses" aria-label="Search">
			<button class="util-button-1 small-margin-right " type="submit">Search</button>
			@if(searchClicked)
			{
					<button class="white-button-1" type="button" onclick="@(searchResultsOff)">Clear Results</button>
			}
		</form>
		@if(searchClicked)
		{
			<div class="courses-container">
				@foreach (var course in coursesFromSearch)
				{
									<CourseCardBasic CourseName="@course.CourseName" CourseCode="@course.CourseCode" Description="@course.Description" Prereq="@course.prereq" showBookmarkButton="true" showSelectCourseButton="true"></CourseCardBasic>
				}
			</div>
		}
		
		<div class="flex-column">
			<div class="recommended-courses-title">
					Recommended Courses (Based on degree)
				</div>
				<div class="courses-container">
				@foreach (var course in courses)
				{
					<CourseCardBasic CourseName="@course.CourseName" CourseCode="@course.CourseCode" Description="@course.Description" Prereq="@course.prereq" Recommended="true" showBookmarkButton="true" showSelectCourseButton="true"></CourseCardBasic>
				}
			</div>
		</div>
	</div>
	<div class=side-panel-container>
		<SidePanel></SidePanel>
	</div>
</div>

@code {
	private List<BasicCourse> courses;
	private List<BasicCourse> coursesFromSearch = new List<BasicCourse>
		{
			new BasicCourse
			{
				CourseName = "Human Computer Interaction",
				CourseCode = "CPSC 481",
				Description = "Fundamental theory and practice of the design, implementation, and evaluation of human-computer interfaces",
				prereq = "3 units from Software Engineering 300, 301, Software Engineering 480 or Data Science 311"
			},
			new BasicCourse
			{
				CourseName = "Distributed Systems",
				CourseCode = "CPSC 559",
				Description = "Designing and implementing distributed systems that overcome challenges due to concurrent computation, ailure of components in the system",
				prereq = "Computer Science 441 and 457"
			},
		};
	private bool searchClicked = false;


	private void searchResults()
	{
		searchClicked = true;
	}

	private void searchResultsOff()
	{
		searchClicked = false;
	}

	private BasicCourse course = new BasicCourse
		{
			CourseName = "Human Computer Interaction",
			CourseCode = "CPSC 481",
			Description = "Fundamental theory and practice of the design, implementation, and evaluation of human-computer interfaces. Topics include: principles of design; methods for evaluating interfaces with or without user involvement; techniques for prototyping and implementing graphical user interfaces.",
			prereq = "3 units from Software Engineering 300, 301, Software Engineering 480 or Data Science 311."
		};

	protected override void OnInitialized()
	{
		base.OnInitialized();
		courses = new List<BasicCourse>
		{
			new BasicCourse
			{
				CourseName = "Human Computer Interaction",
				CourseCode = "CPSC 481",
				Description = "Fundamental theory and practice of the design, implementation, and evaluation of human-computer interfaces",
				prereq = "3 units from Software Engineering 300, 301, Software Engineering 480 or Data Science 311"
			},
			new BasicCourse
			{
				CourseName = "Distributed Systems",
				CourseCode = "CPSC 559",
				Description = "Designing and implementing distributed systems that overcome challenges due to concurrent computation, ailure of components in the system",
				prereq = "Computer Science 441 and 457"
			},
			new BasicCourse
			{
				CourseName = "Web-Based Systems",
				CourseCode = "SENG 513",
				Description = "An overview of software engineering methods and technologies for developing web-based software systems.",
				prereq = "3 units from Software Engineering 300, 301 or ENSF 480"
			},
			new BasicCourse
			{
				CourseName = "Software Project Management",
				CourseCode = "SENG 511",
				Description = "Analysis of methods, tools, and techniques for software project management as an effort to achieve quality software products.",
				prereq = "3 units from Software Engineering 300, 301, 403 or ENSF 480"
			},
			new BasicCourse
			{
				CourseName = "Programming Paradigms",
				CourseCode = "CPSC 449",
				Description = "Examination of the basic principles of the major programming language paradigms. Focus on declarative paradigms.",
				prereq = "Computer Science 319 or 331; and Philosophy 279 or 377."
			},
			new BasicCourse
			{
				CourseName = "Artificial Intelligence",
				CourseCode = "CPSC 433",
				Description = "An examination of the objectives, key techniques and achievements of work on artificial intelligence in Computer Science.",
				prereq = "Computer Science 313 or 351; and Philosophy 279 or 377"
			}
		};
	}
}